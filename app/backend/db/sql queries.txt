CREATE TABLE competitions (
    id INT PRIMARY KEY IDENTITY(1,1),
    title NVARCHAR(255),
    filetype NVARCHAR(255),
    description TEXT,
    startDesc TEXT,
    startTime SMALLDATETIME,
    deadline SMALLDATETIME,
    voteEndTime SMALLDATETIME,
    attachmentURL NVARCHAR(2000)
);

CREATE TABLE submissions (
    id INT PRIMARY KEY IDENTITY(1,1),
    compID INT FOREIGN KEY REFERENCES competitions(id),
    submissionTime SMALLDATETIME,
    voteCount INT,
    totalCriteriaPoints BIGINT,
    title NVARCHAR(255),
    description TEXT,
    attachmentURL NVARCHAR(2000)
);

CREATE TABLE criteria (
    id INT PRIMARY KEY IDENTITY(1,1),
    compID INT FOREIGN KEY REFERENCES competitions(id),
    name NVARCHAR(255),
    description TEXT,
    maxPoints INT
);

CREATE TABLE competitionComments (
    id INT PRIMARY KEY IDENTITY(1,1),
    compID INT FOREIGN KEY REFERENCES competitions(id),
    content TEXT,
    creationTime SMALLDATETIME,
);

CREATE TABLE submissionComments (
    id INT PRIMARY KEY IDENTITY(1,1),
    subID INT FOREIGN KEY REFERENCES submissions(id),
    content TEXT,
    creationTime SMALLDATETIME,
);

//example entries
INSERT INTO [dbo].[competitions]
(title, filetype, description, startDesc, startTime, deadline, voteEndTime, attachmentURL)
VALUES ('CANADA', 'png,jpg,gif', 'aosdjfoajsodfhoaSIHDFOAHSODFHAPHFPOH', 'no', '20250404 11:59:59 PM', '20250405 11:59:59 PM', '20250407 11:59:59 AM', 'https://comperfiles.blob.core.windows.net/attachments/canada.png');

INSERT INTO [dbo].[competitions]
(title, filetype, description, startDesc, startTime, deadline, voteEndTime, attachmentURL)
VALUES ('RUSSIA', 'png,jpg,gif', 'line 1'+Char(10)+'line2'+Char(10)+'line 3', 'revealed desc.', '20250404 11:59:59 PM', '20250405 11:59:59 PM', '20250407 11:59:59 AM', 'https://comperfiles.blob.core.windows.net/attachments/umbrella.png');